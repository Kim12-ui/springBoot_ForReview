-- market_member 생성
create table market_member (
	member_id varchar(20) primary key,	-- 사용자 아이디
	member_pw varchar(100) not null,	-- 암호화된 로그인 비밀번호	
	member_name varchar(20) not null,	-- 사용자 이름
	phone varchar(20) not null			-- 전화번호
);

-- market_board 생성
create table market_board (
		board_num int primary key auto_increment,
		member_id varchar(20),
		category varchar(50) not null check (category in ('컴퓨터','자동차','카메라')),
		title varchar(200) not null,
		contents varchar(2000) not null,
		price int default 0,
		soldout tinyint(1) default 0 check (soldout in (0,1)),
		buyer_id varchar(20),
		input_date timestamp default current_timestamp,
		constraint foreign key (member_id) references market_member(member_id),
		constraint foreign key (buyer_id) references market_member(member_id)
);

-- market_reply 생성
create table market_reply (
	reply_num int primary key,
	board_num int,
	member_id varchar(20),
	reply_text varchar(500) not null,
	constraint foreign key (board_num) references market_board(board_num),
	constraint foreign key (member_id) references market_member(member_id)
);