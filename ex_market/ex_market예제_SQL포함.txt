[ ex_market ]

중고 거래 게시판 예제
SpringBoot 3.3 / JPA / MySQL 8 / jQuery / Ajax

가입, 로그인, 로그아웃
거래 게시글 등록, 삭제, 판매완료 처리
댓글 등록, 삭제

[ 테이블 구조 - MySQL ]

drop table if exists market_reply;
drop table if exists market_board;
drop table if exists market_member;

-- 회원정보 테이블
create table market_member (
	member_id 	varchar(20) primary key,		-- 사용자아이디
	member_pw	varchar(100) not null,			-- 비밀번호
	member_name	varchar(20) not null,			-- 이름
	phone		varchar(20) not null			-- 전화번호
);

-- 판매글 테이블
create table market_board (
	board_num	int primary key auto_increment,		-- 글번호
	member_id	varchar(20),		           	 	-- 작성자 아이디
	category	varchar(50) not null,		    	-- 상품분류
	title		varchar(200) not null,		    	-- 제목
	contents	varchar(2000) not null,	       	 	-- 상품소개
	price		int default 0,						-- 퍈매 가격
	soldout		tinyint(1) default 0,		    	-- 판매완료여부 (판매중:0, 판매완료:1)
	buyer_id	varchar(20),				    	-- 구매자아이디
	input_date	timestamp default current_timestamp,	-- 작성일
	constraint foreign key (member_id) references market_member(member_id) on delete set null,
	constraint foreign key (buyer_id) references market_member(member_id) on delete set null
);

-- 리플 테이블
create table market_reply (
	reply_num		int primary key auto_increment,	-- 리플 일련번호
	board_num		int,    						-- 본문 글번호
	member_id		varchar(20),					-- 작성자 아이디
	reply_text		varchar(500) not null,			-- 리플 내용
    constraint foreign key (board_num) references market_board(board_num) on delete cascade,
    constraint foreign key (member_id) references market_member(member_id) on delete set null
);



