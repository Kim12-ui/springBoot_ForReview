<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title>회원정보 수정</title>
		<link rel="stylesheet" th:href="@{/css/main.css}">
		<script th:src="@{/js/jquery-3.7.1.min.js}"></script>
		<script>
			// pw: 3~10자, 비밀번호 확인 데이터와 일치 시 true
			// name: 입력값 유무 확인, 아무것도 입력하지 않으면 false
			$(document).ready(function() {
				$('#updateForm').submit(validation);
			});
		
			function validation() {
				let pw = $('#memberPassword').val();
				let pw2 = $('#memberPassword2').val();
				let name = $('#memberName').val();
				
				if (pw.length < 3 || pw.length > 10) {
					alert('비밀번호는 3~10자로 입력하세요.');
					return false;
				}
				if (pw != pw2) {
					alert('비밀번호를 정확하게 입력하세요');
					return false;
				}
				if (name=='') {
					alert('이름을 입력하세요.');
					return false;
				}
				return true;
			}
		</script>
	</head>
	<body>
		<header>
			<h2>[ 회원정보수정 ]</h2>
		</header>
		<section>
			<form id="updateForm" th:action="@{/member/info}" method="post">
				<table>
					<tr>
						<th>ID</th>
						<td><input type="text" th:value="${member.memberId}" name="memberId" readOnly></td>
					</tr>
					<tr>
						<th>PW</th>
						<td><input type="password" placeholder="비밀번호를 입력하세요" id="memberPassword" name="memberPassword"></td>
					</tr>
					<tr>
						<th>PW확인</th>
						<td><input type="password" placeholder="비밀번호 다시 입력" id="memberPassword2"></td>
					</tr>
					<tr>
						<th>NAME</th>
						<td><input type="text" th:value="${member.memberName}" id="memberName" name="memberName"></td>
					</tr>
					<tr>
						<th>PHONE</th>
						<td><input type="text" th:value="${member.phone}" name="phone"></td>
					</tr>
					<tr>
						<th>ADDRESS</th>
						<td><input type="text" th:value="${member.address}" name="address"></td>
					</tr>
					<tr>
						<th>EMAIL</th>
						<td><input type="text" th:value="${member.email}" name="email"></td>
					</tr>
				</table>
				<input type="submit" value="수정">
				<input type="reset" value="다시쓰기">
			</form>
		</section>
	</body>
</html>